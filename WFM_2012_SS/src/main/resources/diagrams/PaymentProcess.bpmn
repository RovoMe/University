<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/test">
  <process id="OnlinePaymentProcess" name="Online Payment Process" isExecutable="true">
    <startEvent id="startevent1" name="Start">
      <extensionElements>
        <activiti:formProperty id="price" name="Price" type="long" required="true"></activiti:formProperty>
      </extensionElements>
    </startEvent>
    <subProcess id="paymentProcess" name="Payment Process">
      <startEvent id="startevent2" name="Start"></startEvent>
      <userTask id="getAddress" name="get address" activiti:assignee="kermit" activiti:formKey="addressForm.jsf">
        <documentation>Name and Address required for Ordering</documentation>
      </userTask>
      <subProcess id="addressValidation" name="Address Validation">
        <startEvent id="startevent3" name="Start"></startEvent>
        <endEvent id="endevent2" name="End"></endEvent>
        <serviceTask id="validateAddress" name="validate address" activiti:class="wfm.activiti.AddressValidationWSBehavior">
          <extensionElements>
            <activiti:field name="service">
              <activiti:string>http://localhost:63082</activiti:string>
            </activiti:field>
            <activiti:field name="firstName">
              <activiti:expression>${firstName}</activiti:expression>
            </activiti:field>
            <activiti:field name="lastName">
              <activiti:expression>${lastName}</activiti:expression>
            </activiti:field>
            <activiti:field name="street">
              <activiti:expression>${street}</activiti:expression>
            </activiti:field>
            <activiti:field name="zip">
              <activiti:expression>${zip}</activiti:expression>
            </activiti:field>
            <activiti:field name="city">
              <activiti:expression>${city}</activiti:expression>
            </activiti:field>
            <activiti:field name="country">
              <activiti:expression>${country}</activiti:expression>
            </activiti:field>
            <activiti:field name="telNo">
              <activiti:expression>${telNo}</activiti:expression>
            </activiti:field>
            <activiti:field name="mailAddress">
              <activiti:expression>${mailAddress}</activiti:expression>
            </activiti:field>
            <activiti:executionListener event="start" class="wfm.activiti.WfmTaskListener"></activiti:executionListener>
            <activiti:executionListener event="end" class="wfm.activiti.WfmTaskListener"></activiti:executionListener>
          </extensionElements>
        </serviceTask>
        <exclusiveGateway id="exclusivegateway7" name="Exclusive Gateway"></exclusiveGateway>
        <endEvent id="AddressValidationErrorEndEvent" name="ErrorEnd">
          <errorEventDefinition errorRef="AddressValidationError"></errorEventDefinition>
        </endEvent>
      </subProcess>
      <boundaryEvent id="AddressValidationBoundaryErrorEvent" name="AddressValidationBoundaryErrorEvent" attachedToRef="addressValidation">
        <errorEventDefinition errorRef="AddressValidationError"></errorEventDefinition>
      </boundaryEvent>
      <scriptTask id="resetAddressForm" name="reset" scriptFormat="groovy">
        <script>out:println '[reset-ScriptTask] ERROR: '+addressValidationError
execution.setVariable('firstName', '')
execution.setVariable('lastName', '')
execution.setVariable('street', '')
execution.setVariable('zip', '')
execution.setVariable('city', '')
execution.setVariable('country', '')
execution.setVariable('telNo', '')
execution.setVariable('mailAddress', '')
execution.removeVariable('addressValidationError')</script>
      </scriptTask>
      <parallelGateway id="parallelgateway1" name="Parallel Gateway"></parallelGateway>
      <userTask id="getPaymentModalities" name="get payment modalities" activiti:assignee="kermit" activiti:formKey="paymentModalitiesForm.jsf"></userTask>
      <userTask id="getCoupon" name="get coupon" activiti:assignee="kermit" activiti:formKey="couponForm.jsf"></userTask>
      <subProcess id="couponValidation" name="Coupon Validation">
        <startEvent id="startevent4" name="Start"></startEvent>
        <endEvent id="endevent4" name="End"></endEvent>
        <exclusiveGateway id="exclusivegateway2" name="Exclusive Gateway"></exclusiveGateway>
        <exclusiveGateway id="exclusivegateway3" name="Exclusive Gateway"></exclusiveGateway>
        <serviceTask id="validateCoupon" name="validate coupon" activiti:class="wfm.activiti.CouponValidationWSBehavior">
          <extensionElements>
            <activiti:field name="service">
              <activiti:string>http://localhost:63081/CouponValidationService/validateCoupon</activiti:string>
            </activiti:field>
            <activiti:field name="hash">
              <activiti:expression>${hash}</activiti:expression>
            </activiti:field>
          </extensionElements>
        </serviceTask>
        <scriptTask id="calculateNewPrice" name="calculate new price" scriptFormat="groovy">
          <script>execution.setVariable('price', price-couponValue)
out:println 'New price: ' + price</script>
        </scriptTask>
        <exclusiveGateway id="exclusivegateway6" name="Exclusive Gateway"></exclusiveGateway>
        <scriptTask id="couponValidationErrorReport" name="report validation error" scriptFormat="groovy">
          <extensionElements>
            <activiti:executionListener event="start" class="wfm.activiti.WfmTaskListener"></activiti:executionListener>
            <activiti:executionListener event="end" class="wfm.activiti.WfmTaskListener"></activiti:executionListener>
          </extensionElements>
          <script>execution.setVariable('couponValidationError', 'No coupon found for hash '+hash)</script>
        </scriptTask>
        <endEvent id="CouponValidationErrorEndEvent" name="ErrorEnd">
          <errorEventDefinition errorRef="CouponValidationError"></errorEventDefinition>
        </endEvent>
      </subProcess>
      <boundaryEvent id="CouponValidationBoundaryErrorEvent" name="CouponValidationBoundaryErrorEvent" attachedToRef="couponValidation">
        <errorEventDefinition errorRef="CouponValidationError"></errorEventDefinition>
      </boundaryEvent>
      <scriptTask id="resetCouponForm" name="reset" scriptFormat="groovy">
        <script>out:println '[reset-ScriptTask] ERROR: '+ couponValidationError
execution.setVariable('hash', '')
execution.removeVariable('couponValidationError')</script>
      </scriptTask>
      <parallelGateway id="parallelgateway2" name="Parallel Gateway"></parallelGateway>
      <endEvent id="endevent5" name="End"></endEvent>
      <subProcess id="paymentValidation" name="Payment Validation">
        <startEvent id="startevent5" name="Start"></startEvent>
        <endEvent id="endevent6" name="End"></endEvent>
        <exclusiveGateway id="exclusivegateway4" name="Exclusive Gateway"></exclusiveGateway>
        <exclusiveGateway id="exclusivegateway5" name="Exclusive Gateway"></exclusiveGateway>
        <userTask id="getBankTransferData" name="get bank transfer data" activiti:assignee="kermit" activiti:formKey="bankAccountForm.jsf"></userTask>
        <userTask id="getCreditCardData" name="get credit card data" activiti:assignee="kermit" activiti:formKey="creditCardForm.jsf"></userTask>
        <serviceTask id="validateBankTransferData" name="validate bank transfer data" activiti:class="wfm.activiti.BankTransferValidationWSBehavior">
          <extensionElements>
            <activiti:field name="service">
              <activiti:string>http://localhost:63084/BankTransferService/validateBankAccount</activiti:string>
            </activiti:field>
            <activiti:field name="successPath">
              <activiti:string>successBankTransferValidation</activiti:string>
            </activiti:field>
            <activiti:field name="errorPath">
              <activiti:string>errorBankTransferValidation</activiti:string>
            </activiti:field>
            <activiti:field name="bankName">
              <activiti:expression>${bankName}</activiti:expression>
            </activiti:field>
            <activiti:field name="bankCode">
              <activiti:expression>${bankCode}</activiti:expression>
            </activiti:field>
            <activiti:field name="accountNumber">
              <activiti:expression>${accountNumber}</activiti:expression>
            </activiti:field>
            <activiti:field name="holdersName">
              <activiti:expression>${holdersName}</activiti:expression>
            </activiti:field>
            <activiti:executionListener event="start" class="wfm.activiti.WfmTaskListener"></activiti:executionListener>
            <activiti:executionListener event="end" class="wfm.activiti.WfmTaskListener"></activiti:executionListener>
          </extensionElements>
        </serviceTask>
        <endEvent id="bankTransferValidationErrorEndEvent" name="ErrorEnd">
          <errorEventDefinition errorRef="PaymentValidationError"></errorEventDefinition>
        </endEvent>
        <serviceTask id="validateCreditCardData" name="validate credit card data" activiti:class="wfm.activiti.CreditCardValidationWSBehavior">
          <extensionElements>
            <activiti:field name="service">
              <activiti:string>http://localhost:63083</activiti:string>
            </activiti:field>
            <activiti:field name="successPath">
              <activiti:string>successCreditCardValidation</activiti:string>
            </activiti:field>
            <activiti:field name="errorPath">
              <activiti:string>errorCreditCardValidation</activiti:string>
            </activiti:field>
            <activiti:field name="cardNumber">
              <activiti:expression>${cardNumber}</activiti:expression>
            </activiti:field>
            <activiti:field name="cardType">
              <activiti:expression>${cardType}</activiti:expression>
            </activiti:field>
            <activiti:field name="expirationDate">
              <activiti:expression>${expirationDate}</activiti:expression>
            </activiti:field>
            <activiti:field name="nameOfOwner">
              <activiti:expression>${nameOfOwner}</activiti:expression>
            </activiti:field>
            <activiti:field name="CVV2Code">
              <activiti:expression>${CVV2Code}</activiti:expression>
            </activiti:field>
            <activiti:executionListener event="start" class="wfm.activiti.WfmTaskListener"></activiti:executionListener>
            <activiti:executionListener event="end" class="wfm.activiti.WfmTaskListener"></activiti:executionListener>
          </extensionElements>
        </serviceTask>
        <endEvent id="creditCardValidationErrorEndEvent" name="ErrorEnd">
          <errorEventDefinition errorRef="PaymentValidationError"></errorEventDefinition>
        </endEvent>
      </subProcess>
      <boundaryEvent id="PaymentValidationBoundaryErrorEvent" name="PaymentValidationBoundaryErrorEvent" attachedToRef="paymentValidation">
        <errorEventDefinition errorRef="PaymentValidationError"></errorEventDefinition>
      </boundaryEvent>
      <scriptTask id="resetPaymentValidation" name="reset" scriptFormat="groovy">
        <script>out:println '[reset-ScriptTask] ERROR: ' + paymentValidationError
if (paymentMethod == 'bankTransferMethod') {
  execution.setVariable('bankName', '')
  execution.setVariable('bankCode', '')
  execution.setVariable('accountNumber', '')
  execution.setVariable('holdersName', '')
} else if (paymentMethod == 'creditCardMethod') {
  execution.setVariable('cardNumber', '')
  execution.setVariable('cardType', '')
  execution.setVariable('expirationDate', '')
  execution.setVariable('CVV2Code', '')
  execution.setVariable('nameOfOwner', '')
}
execution.removeVariable('paymentValidationError')</script>
      </scriptTask>
      <scriptTask id="debugOutput" name="debug output" scriptFormat="groovy">
        <script>def name = customer.getFirstName() + ' ' +customer.getLastName()
execution.setVariable('name',name)
def address = customer.getAddress().getStreet()+', '+customer.getAddress().getZip()+' '+customer.getAddress().getCity()+', '+customer.getAddress().getCountry()
def telNo = customer.getTelNo()
def mailAddress = customer.getMailAddress()
out:println '\nRESULT:'
out:println 'Name: ' + name
out:println 'Address: ' + address
out:println 'Telephone: ' + telNo
out:println 'EMail Address: ' + mailAddress
if (paymentMethod == 'bankTransferMethod') {
  def bank = BankAccount.getBankName()+', '+BankAccount.getBankCode()+', '+BankAccount.getAccountNumber()+', '+BankAccount.getHoldersName()
  out:println 'Bank data: '+bank
} else if (paymentMethod == 'creditCardMethod') {
  def creditCard = creditCard.getCardNumber()+', '+creditCard.getCardType()+', '+creditCard.getExpirationDate()+', '+creditCard.getCVV2Code()+', '+creditCard.getNameOfOwner()
  out:println 'Credit card data: ' +creditCard
} else {
  out:println 'Billing address: '+address
}
out:println 'Price: ' + price + ' Euro'</script>
      </scriptTask>
      <userTask id="getAcknowledgement" name="get acknowledgement" activiti:assignee="kermit" activiti:formKey="acknowledgeForm.jsf"></userTask>
      <serviceTask id="sendOrderNotification" name="send order notification" activiti:class="wfm.activiti.MailNotificationBehavior"></serviceTask>
      <subProcess id="payment" name="Payment">
        <serviceTask id="retrievePaymentAcknowledgement" name="retrieve payment acknowledgement" activiti:class="wfm.activiti.PaymentAcknowledgementWSBehavior">
          <extensionElements>
            <activiti:executionListener event="end" class="wfm.activiti.WfmTaskListener"></activiti:executionListener>
          </extensionElements>
        </serviceTask>
        <startEvent id="startevent6" name="Start"></startEvent>
        <endEvent id="paymentErrorEndEvent" name="ErrorEnd">
          <errorEventDefinition errorRef="PaymentError"></errorEventDefinition>
        </endEvent>
        <endEvent id="endevent9" name="End"></endEvent>
        <exclusiveGateway id="exclusivegateway10" name="Exclusive Gateway"></exclusiveGateway>
      </subProcess>
      <boundaryEvent id="PaymentBoundaryErrorEvent" name="PaymentBoundaryErrorEvent" attachedToRef="payment">
        <errorEventDefinition errorRef="PaymentError"></errorEventDefinition>
      </boundaryEvent>
      <endEvent id="endevent10" name="End"></endEvent>
      <sequenceFlow id="flow2" sourceRef="startevent2" targetRef="getAddress"></sequenceFlow>
      <sequenceFlow id="flow3" sourceRef="getAddress" targetRef="addressValidation"></sequenceFlow>
      <sequenceFlow id="flow5" sourceRef="resetAddressForm" targetRef="getAddress"></sequenceFlow>
      <sequenceFlow id="flow7" sourceRef="addressValidation" targetRef="parallelgateway1"></sequenceFlow>
      <sequenceFlow id="flow8" sourceRef="parallelgateway1" targetRef="getPaymentModalities"></sequenceFlow>
      <sequenceFlow id="flow9" sourceRef="parallelgateway1" targetRef="getCoupon"></sequenceFlow>
      <sequenceFlow id="flow10" sourceRef="getCoupon" targetRef="couponValidation"></sequenceFlow>
      <sequenceFlow id="flow19" sourceRef="resetCouponForm" targetRef="getCoupon"></sequenceFlow>
      <sequenceFlow id="flow20" sourceRef="getPaymentModalities" targetRef="parallelgateway2"></sequenceFlow>
      <sequenceFlow id="flow21" sourceRef="couponValidation" targetRef="parallelgateway2"></sequenceFlow>
      <sequenceFlow id="flow30" sourceRef="parallelgateway2" targetRef="paymentValidation"></sequenceFlow>
      <sequenceFlow id="flow34" sourceRef="resetPaymentValidation" targetRef="paymentValidation"></sequenceFlow>
      <sequenceFlow id="flow35" sourceRef="paymentValidation" targetRef="debugOutput"></sequenceFlow>
      <sequenceFlow id="flow36" sourceRef="debugOutput" targetRef="getAcknowledgement"></sequenceFlow>
      <sequenceFlow id="flow43" sourceRef="sendOrderNotification" targetRef="endevent5"></sequenceFlow>
      <sequenceFlow id="flow54" sourceRef="getAcknowledgement" targetRef="payment"></sequenceFlow>
      <sequenceFlow id="flow55" sourceRef="payment" targetRef="sendOrderNotification"></sequenceFlow>
    </subProcess>
    <endEvent id="endevent7" name="End"></endEvent>
    <sequenceFlow id="flow52" sourceRef="couponValidationErrorReport" targetRef="CouponValidationErrorEndEvent"></sequenceFlow>
    <sequenceFlow id="flow45" sourceRef="startevent6" targetRef="retrievePaymentAcknowledgement"></sequenceFlow>
    <sequenceFlow id="errorPayment" name="error" sourceRef="exclusivegateway10" targetRef="paymentErrorEndEvent">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${paymentError != ""}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="successPayment" sourceRef="exclusivegateway10" targetRef="endevent9">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${paymentError == ""}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow48" sourceRef="retrievePaymentAcknowledgement" targetRef="exclusivegateway10"></sequenceFlow>
    <sequenceFlow id="flow39" sourceRef="validateAddress" targetRef="exclusivegateway7"></sequenceFlow>
    <sequenceFlow id="flow38" sourceRef="validateCoupon" targetRef="exclusivegateway6"></sequenceFlow>
    <sequenceFlow id="successCreditCardValidation" name="success" sourceRef="validateCreditCardData" targetRef="exclusivegateway5"></sequenceFlow>
    <sequenceFlow id="errorCreditCardValidation" name="error" sourceRef="validateCreditCardData" targetRef="creditCardValidationErrorEndEvent"></sequenceFlow>
    <sequenceFlow id="creditCardMethod" name="creditCardMethod" sourceRef="exclusivegateway4" targetRef="getCreditCardData">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${paymentMethod == 'creditCardMethod' }]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow24" sourceRef="startevent5" targetRef="exclusivegateway4"></sequenceFlow>
    <sequenceFlow id="flow25" sourceRef="exclusivegateway5" targetRef="endevent6"></sequenceFlow>
    <sequenceFlow id="flow26" sourceRef="getBankTransferData" targetRef="validateBankTransferData"></sequenceFlow>
    <sequenceFlow id="bankTransferMethod" name="bankTransferMethod" sourceRef="exclusivegateway4" targetRef="getBankTransferData">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${paymentMethod == 'bankTransferMethod'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="errorBankTransferValidation" name="error" sourceRef="validateBankTransferData" targetRef="bankTransferValidationErrorEndEvent"></sequenceFlow>
    <sequenceFlow id="successBankTransferValidation" name="success" sourceRef="validateBankTransferData" targetRef="exclusivegateway5"></sequenceFlow>
    <sequenceFlow id="flow31" sourceRef="getCreditCardData" targetRef="validateCreditCardData"></sequenceFlow>
    <sequenceFlow id="flow6" sourceRef="startevent3" targetRef="validateAddress"></sequenceFlow>
    <sequenceFlow id="successAddressValidation" sourceRef="exclusivegateway7" targetRef="endevent2">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${customer != null}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="errorAddressValidation" name="${customer == null}" sourceRef="exclusivegateway7" targetRef="AddressValidationErrorEndEvent">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${customer == null}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow11" sourceRef="startevent4" targetRef="exclusivegateway2"></sequenceFlow>
    <sequenceFlow id="hasNoHash" name="${hash == ''}" sourceRef="exclusivegateway2" targetRef="exclusivegateway3">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${hash == ''}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow13" sourceRef="exclusivegateway3" targetRef="endevent4"></sequenceFlow>
    <sequenceFlow id="hasHash" name="${hash != ''}" sourceRef="exclusivegateway2" targetRef="validateCoupon">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${hash != ''}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="errorCouponValidation" name="${couponValue == 0}" sourceRef="exclusivegateway6" targetRef="couponValidationErrorReport">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${couponValue == 0}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="successCouponValidation" sourceRef="exclusivegateway6" targetRef="calculateNewPrice">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${couponValue != 0}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow17" sourceRef="calculateNewPrice" targetRef="exclusivegateway3"></sequenceFlow>
    <sequenceFlow id="flow1" sourceRef="startevent1" targetRef="paymentProcess"></sequenceFlow>
    <sequenceFlow id="flow4" sourceRef="AddressValidationBoundaryErrorEvent" targetRef="resetAddressForm"></sequenceFlow>
    <sequenceFlow id="flow18" sourceRef="CouponValidationBoundaryErrorEvent" targetRef="resetCouponForm"></sequenceFlow>
    <sequenceFlow id="flow33" sourceRef="PaymentValidationBoundaryErrorEvent" targetRef="resetPaymentValidation"></sequenceFlow>
    <sequenceFlow id="flow37" sourceRef="paymentProcess" targetRef="endevent7"></sequenceFlow>
    <sequenceFlow id="flow53" sourceRef="PaymentBoundaryErrorEvent" targetRef="endevent10"></sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_OnlinePaymentProcess">
    <bpmndi:BPMNPlane bpmnElement="OnlinePaymentProcess" id="BPMNPlane_OnlinePaymentProcess">
      <bpmndi:BPMNShape bpmnElement="startevent1" id="BPMNShape_startevent1">
        <omgdc:Bounds height="35.0" width="35.0" x="10.0" y="318.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="paymentProcess" id="BPMNShape_paymentProcess">
        <omgdc:Bounds height="611.0" width="2811.0" x="120.0" y="30.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="startevent2" id="BPMNShape_startevent2">
        <omgdc:Bounds height="35.0" width="35.0" x="140.0" y="260.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="getAddress" id="BPMNShape_getAddress">
        <omgdc:Bounds height="55.0" width="105.0" x="230.0" y="250.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="addressValidation" id="BPMNShape_addressValidation">
        <omgdc:Bounds height="205.0" width="351.0" x="400.0" y="175.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="startevent3" id="BPMNShape_startevent3">
        <omgdc:Bounds height="35.0" width="35.0" x="420.0" y="262.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent2" id="BPMNShape_endevent2">
        <omgdc:Bounds height="35.0" width="35.0" x="690.0" y="262.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="validateAddress" id="BPMNShape_validateAddress">
        <omgdc:Bounds height="55.0" width="105.0" x="490.0" y="252.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway7" id="BPMNShape_exclusivegateway7">
        <omgdc:Bounds height="40.0" width="40.0" x="610.0" y="259.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="AddressValidationErrorEndEvent" id="BPMNShape_AddressValidationErrorEndEvent">
        <omgdc:Bounds height="35.0" width="35.0" x="613.0" y="340.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="AddressValidationBoundaryErrorEvent" id="BPMNShape_AddressValidationBoundaryErrorEvent">
        <omgdc:Bounds height="30.0" width="30.0" x="510.0" y="365.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="resetAddressForm" id="BPMNShape_resetAddressForm">
        <omgdc:Bounds height="55.0" width="105.0" x="320.0" y="400.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="parallelgateway1" id="BPMNShape_parallelgateway1">
        <omgdc:Bounds height="40.0" width="40.0" x="790.0" y="257.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="getPaymentModalities" id="BPMNShape_getPaymentModalities">
        <omgdc:Bounds height="55.0" width="105.0" x="890.0" y="160.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="getCoupon" id="BPMNShape_getCoupon">
        <omgdc:Bounds height="55.0" width="105.0" x="830.0" y="420.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="couponValidation" id="BPMNShape_couponValidation">
        <omgdc:Bounds height="246.0" width="401.0" x="970.0" y="325.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="startevent4" id="BPMNShape_startevent4">
        <omgdc:Bounds height="35.0" width="35.0" x="976.0" y="363.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent4" id="BPMNShape_endevent4">
        <omgdc:Bounds height="35.0" width="35.0" x="1310.0" y="363.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway2" id="BPMNShape_exclusivegateway2">
        <omgdc:Bounds height="40.0" width="40.0" x="1052.0" y="360.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway3" id="BPMNShape_exclusivegateway3">
        <omgdc:Bounds height="40.0" width="40.0" x="1230.0" y="360.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="validateCoupon" id="BPMNShape_validateCoupon">
        <omgdc:Bounds height="55.0" width="105.0" x="1020.0" y="440.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="calculateNewPrice" id="BPMNShape_calculateNewPrice">
        <omgdc:Bounds height="55.0" width="105.0" x="1198.0" y="440.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway6" id="BPMNShape_exclusivegateway6">
        <omgdc:Bounds height="40.0" width="40.0" x="1140.0" y="447.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="couponValidationErrorReport" id="BPMNShape_couponValidationErrorReport">
        <omgdc:Bounds height="55.0" width="105.0" x="1108.0" y="510.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="CouponValidationErrorEndEvent" id="BPMNShape_CouponValidationErrorEndEvent">
        <omgdc:Bounds height="35.0" width="35.0" x="1250.0" y="520.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="CouponValidationBoundaryErrorEvent" id="BPMNShape_CouponValidationBoundaryErrorEvent">
        <omgdc:Bounds height="30.0" width="30.0" x="990.0" y="555.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="resetCouponForm" id="BPMNShape_resetCouponForm">
        <omgdc:Bounds height="55.0" width="105.0" x="830.0" y="570.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="parallelgateway2" id="BPMNShape_parallelgateway2">
        <omgdc:Bounds height="40.0" width="40.0" x="1410.0" y="280.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent5" id="BPMNShape_endevent5">
        <omgdc:Bounds height="35.0" width="35.0" x="2870.0" y="283.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="paymentValidation" id="BPMNShape_paymentValidation">
        <omgdc:Bounds height="301.0" width="521.0" x="1510.0" y="150.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="startevent5" id="BPMNShape_startevent5">
        <omgdc:Bounds height="35.0" width="35.0" x="1530.0" y="286.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent6" id="BPMNShape_endevent6">
        <omgdc:Bounds height="35.0" width="35.0" x="1980.0" y="286.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway4" id="BPMNShape_exclusivegateway4">
        <omgdc:Bounds height="40.0" width="40.0" x="1580.0" y="283.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway5" id="BPMNShape_exclusivegateway5">
        <omgdc:Bounds height="40.0" width="40.0" x="1920.0" y="283.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="getBankTransferData" id="BPMNShape_getBankTransferData">
        <omgdc:Bounds height="55.0" width="105.0" x="1660.0" y="170.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="getCreditCardData" id="BPMNShape_getCreditCardData">
        <omgdc:Bounds height="55.0" width="105.0" x="1660.0" y="384.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="validateBankTransferData" id="BPMNShape_validateBankTransferData">
        <omgdc:Bounds height="55.0" width="105.0" x="1780.0" y="170.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="bankTransferValidationErrorEndEvent" id="BPMNShape_bankTransferValidationErrorEndEvent">
        <omgdc:Bounds height="35.0" width="35.0" x="1860.0" y="233.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="validateCreditCardData" id="BPMNShape_validateCreditCardData">
        <omgdc:Bounds height="55.0" width="105.0" x="1790.0" y="384.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="creditCardValidationErrorEndEvent" id="BPMNShape_creditCardValidationErrorEndEvent">
        <omgdc:Bounds height="35.0" width="35.0" x="1860.0" y="340.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="PaymentValidationBoundaryErrorEvent" id="BPMNShape_PaymentValidationBoundaryErrorEvent">
        <omgdc:Bounds height="30.0" width="30.0" x="1730.0" y="440.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="resetPaymentValidation" id="BPMNShape_resetPaymentValidation">
        <omgdc:Bounds height="55.0" width="105.0" x="1490.0" y="474.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="debugOutput" id="BPMNShape_debugOutput">
        <omgdc:Bounds height="55.0" width="105.0" x="2050.0" y="273.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="getAcknowledgement" id="BPMNShape_getAcknowledgement">
        <omgdc:Bounds height="55.0" width="105.0" x="2170.0" y="273.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sendOrderNotification" id="BPMNShape_sendOrderNotification">
        <omgdc:Bounds height="55.0" width="105.0" x="2740.0" y="273.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="payment" id="BPMNShape_payment">
        <omgdc:Bounds height="131.0" width="291.0" x="2370.0" y="235.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="retrievePaymentAcknowledgement" id="BPMNShape_retrievePaymentAcknowledgement">
        <omgdc:Bounds height="55.0" width="105.0" x="2430.0" y="265.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="startevent6" id="BPMNShape_startevent6">
        <omgdc:Bounds height="35.0" width="35.0" x="2380.0" y="275.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="paymentErrorEndEvent" id="BPMNShape_paymentErrorEndEvent">
        <omgdc:Bounds height="35.0" width="35.0" x="2616.0" y="325.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent9" id="BPMNShape_endevent9">
        <omgdc:Bounds height="35.0" width="35.0" x="2616.0" y="275.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway10" id="BPMNShape_exclusivegateway10">
        <omgdc:Bounds height="40.0" width="40.0" x="2560.0" y="272.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="PaymentBoundaryErrorEvent" id="BPMNShape_PaymentBoundaryErrorEvent">
        <omgdc:Bounds height="30.0" width="30.0" x="2450.0" y="355.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent10" id="BPMNShape_endevent10">
        <omgdc:Bounds height="35.0" width="35.0" x="2447.0" y="423.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent7" id="BPMNShape_endevent7">
        <omgdc:Bounds height="35.0" width="35.0" x="2960.0" y="318.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="flow2" id="BPMNEdge_flow2">
        <omgdi:waypoint x="175.0" y="277.0"></omgdi:waypoint>
        <omgdi:waypoint x="230.0" y="277.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow3" id="BPMNEdge_flow3">
        <omgdi:waypoint x="335.0" y="277.0"></omgdi:waypoint>
        <omgdi:waypoint x="400.0" y="277.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow5" id="BPMNEdge_flow5">
        <omgdi:waypoint x="320.0" y="427.0"></omgdi:waypoint>
        <omgdi:waypoint x="282.0" y="426.0"></omgdi:waypoint>
        <omgdi:waypoint x="282.0" y="305.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow7" id="BPMNEdge_flow7">
        <omgdi:waypoint x="751.0" y="277.0"></omgdi:waypoint>
        <omgdi:waypoint x="790.0" y="277.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow8" id="BPMNEdge_flow8">
        <omgdi:waypoint x="810.0" y="257.0"></omgdi:waypoint>
        <omgdi:waypoint x="810.0" y="187.0"></omgdi:waypoint>
        <omgdi:waypoint x="890.0" y="187.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow9" id="BPMNEdge_flow9">
        <omgdi:waypoint x="810.0" y="297.0"></omgdi:waypoint>
        <omgdi:waypoint x="810.0" y="448.0"></omgdi:waypoint>
        <omgdi:waypoint x="830.0" y="447.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow10" id="BPMNEdge_flow10">
        <omgdi:waypoint x="935.0" y="447.0"></omgdi:waypoint>
        <omgdi:waypoint x="970.0" y="448.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow19" id="BPMNEdge_flow19">
        <omgdi:waypoint x="882.0" y="570.0"></omgdi:waypoint>
        <omgdi:waypoint x="882.0" y="475.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow20" id="BPMNEdge_flow20">
        <omgdi:waypoint x="995.0" y="187.0"></omgdi:waypoint>
        <omgdi:waypoint x="1430.0" y="187.0"></omgdi:waypoint>
        <omgdi:waypoint x="1430.0" y="280.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow21" id="BPMNEdge_flow21">
        <omgdi:waypoint x="1371.0" y="448.0"></omgdi:waypoint>
        <omgdi:waypoint x="1430.0" y="448.0"></omgdi:waypoint>
        <omgdi:waypoint x="1430.0" y="320.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow30" id="BPMNEdge_flow30">
        <omgdi:waypoint x="1450.0" y="300.0"></omgdi:waypoint>
        <omgdi:waypoint x="1510.0" y="300.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow34" id="BPMNEdge_flow34">
        <omgdi:waypoint x="1490.0" y="501.0"></omgdi:waypoint>
        <omgdi:waypoint x="1462.0" y="500.0"></omgdi:waypoint>
        <omgdi:waypoint x="1462.0" y="326.0"></omgdi:waypoint>
        <omgdi:waypoint x="1510.0" y="300.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow35" id="BPMNEdge_flow35">
        <omgdi:waypoint x="2031.0" y="300.0"></omgdi:waypoint>
        <omgdi:waypoint x="2050.0" y="300.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow36" id="BPMNEdge_flow36">
        <omgdi:waypoint x="2155.0" y="300.0"></omgdi:waypoint>
        <omgdi:waypoint x="2170.0" y="300.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow43" id="BPMNEdge_flow43">
        <omgdi:waypoint x="2845.0" y="300.0"></omgdi:waypoint>
        <omgdi:waypoint x="2870.0" y="300.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow52" id="BPMNEdge_flow52">
        <omgdi:waypoint x="1213.0" y="537.0"></omgdi:waypoint>
        <omgdi:waypoint x="1250.0" y="537.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow45" id="BPMNEdge_flow45">
        <omgdi:waypoint x="2415.0" y="292.0"></omgdi:waypoint>
        <omgdi:waypoint x="2430.0" y="292.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="errorPayment" id="BPMNEdge_errorPayment">
        <omgdi:waypoint x="2580.0" y="312.0"></omgdi:waypoint>
        <omgdi:waypoint x="2580.0" y="342.0"></omgdi:waypoint>
        <omgdi:waypoint x="2616.0" y="342.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="100.0" x="-13.0" y="4.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="successPayment" id="BPMNEdge_successPayment">
        <omgdi:waypoint x="2600.0" y="292.0"></omgdi:waypoint>
        <omgdi:waypoint x="2616.0" y="292.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow48" id="BPMNEdge_flow48">
        <omgdi:waypoint x="2535.0" y="292.0"></omgdi:waypoint>
        <omgdi:waypoint x="2560.0" y="292.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow39" id="BPMNEdge_flow39">
        <omgdi:waypoint x="595.0" y="279.0"></omgdi:waypoint>
        <omgdi:waypoint x="610.0" y="279.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow38" id="BPMNEdge_flow38">
        <omgdi:waypoint x="1125.0" y="467.0"></omgdi:waypoint>
        <omgdi:waypoint x="1140.0" y="467.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="successCreditCardValidation" id="BPMNEdge_successCreditCardValidation">
        <omgdi:waypoint x="1895.0" y="411.0"></omgdi:waypoint>
        <omgdi:waypoint x="1939.0" y="410.0"></omgdi:waypoint>
        <omgdi:waypoint x="1940.0" y="323.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="100.0" x="10.0" y="0.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="errorCreditCardValidation" id="BPMNEdge_errorCreditCardValidation">
        <omgdi:waypoint x="1842.0" y="384.0"></omgdi:waypoint>
        <omgdi:waypoint x="1841.0" y="357.0"></omgdi:waypoint>
        <omgdi:waypoint x="1860.0" y="357.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="100.0" x="-41.0" y="0.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="creditCardMethod" id="BPMNEdge_creditCardMethod">
        <omgdi:waypoint x="1600.0" y="323.0"></omgdi:waypoint>
        <omgdi:waypoint x="1599.0" y="411.0"></omgdi:waypoint>
        <omgdi:waypoint x="1660.0" y="411.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="100.0" x="1.0" y="-46.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow24" id="BPMNEdge_flow24">
        <omgdi:waypoint x="1565.0" y="303.0"></omgdi:waypoint>
        <omgdi:waypoint x="1580.0" y="303.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow25" id="BPMNEdge_flow25">
        <omgdi:waypoint x="1960.0" y="303.0"></omgdi:waypoint>
        <omgdi:waypoint x="1980.0" y="303.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow26" id="BPMNEdge_flow26">
        <omgdi:waypoint x="1765.0" y="197.0"></omgdi:waypoint>
        <omgdi:waypoint x="1780.0" y="197.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="bankTransferMethod" id="BPMNEdge_bankTransferMethod">
        <omgdi:waypoint x="1600.0" y="283.0"></omgdi:waypoint>
        <omgdi:waypoint x="1600.0" y="197.0"></omgdi:waypoint>
        <omgdi:waypoint x="1660.0" y="197.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="42.0" width="100.0" x="10.0" y="0.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="errorBankTransferValidation" id="BPMNEdge_errorBankTransferValidation">
        <omgdi:waypoint x="1832.0" y="225.0"></omgdi:waypoint>
        <omgdi:waypoint x="1834.0" y="250.0"></omgdi:waypoint>
        <omgdi:waypoint x="1860.0" y="250.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="100.0" x="-24.0" y="4.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="successBankTransferValidation" id="BPMNEdge_successBankTransferValidation">
        <omgdi:waypoint x="1885.0" y="197.0"></omgdi:waypoint>
        <omgdi:waypoint x="1940.0" y="197.0"></omgdi:waypoint>
        <omgdi:waypoint x="1940.0" y="283.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="100.0" x="10.0" y="0.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow31" id="BPMNEdge_flow31">
        <omgdi:waypoint x="1765.0" y="411.0"></omgdi:waypoint>
        <omgdi:waypoint x="1789.0" y="410.0"></omgdi:waypoint>
        <omgdi:waypoint x="1790.0" y="411.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow6" id="BPMNEdge_flow6">
        <omgdi:waypoint x="455.0" y="279.0"></omgdi:waypoint>
        <omgdi:waypoint x="490.0" y="279.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="successAddressValidation" id="BPMNEdge_successAddressValidation">
        <omgdi:waypoint x="650.0" y="279.0"></omgdi:waypoint>
        <omgdi:waypoint x="690.0" y="279.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="errorAddressValidation" id="BPMNEdge_errorAddressValidation">
        <omgdi:waypoint x="630.0" y="299.0"></omgdi:waypoint>
        <omgdi:waypoint x="630.0" y="340.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="100.0" x="10.0" y="0.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow11" id="BPMNEdge_flow11">
        <omgdi:waypoint x="1011.0" y="380.0"></omgdi:waypoint>
        <omgdi:waypoint x="1052.0" y="380.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="hasNoHash" id="BPMNEdge_hasNoHash">
        <omgdi:waypoint x="1092.0" y="380.0"></omgdi:waypoint>
        <omgdi:waypoint x="1230.0" y="380.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="100.0" x="0.0" y="4.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow13" id="BPMNEdge_flow13">
        <omgdi:waypoint x="1270.0" y="380.0"></omgdi:waypoint>
        <omgdi:waypoint x="1310.0" y="380.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="hasHash" id="BPMNEdge_hasHash">
        <omgdi:waypoint x="1072.0" y="400.0"></omgdi:waypoint>
        <omgdi:waypoint x="1072.0" y="440.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="100.0" x="10.0" y="0.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="errorCouponValidation" id="BPMNEdge_errorCouponValidation">
        <omgdi:waypoint x="1160.0" y="487.0"></omgdi:waypoint>
        <omgdi:waypoint x="1160.0" y="510.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="42.0" width="100.0" x="10.0" y="-8.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="successCouponValidation" id="BPMNEdge_successCouponValidation">
        <omgdi:waypoint x="1180.0" y="467.0"></omgdi:waypoint>
        <omgdi:waypoint x="1198.0" y="467.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow17" id="BPMNEdge_flow17">
        <omgdi:waypoint x="1250.0" y="440.0"></omgdi:waypoint>
        <omgdi:waypoint x="1250.0" y="400.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow1" id="BPMNEdge_flow1">
        <omgdi:waypoint x="45.0" y="335.0"></omgdi:waypoint>
        <omgdi:waypoint x="120.0" y="335.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow4" id="BPMNEdge_flow4">
        <omgdi:waypoint x="525.0" y="395.0"></omgdi:waypoint>
        <omgdi:waypoint x="524.0" y="427.0"></omgdi:waypoint>
        <omgdi:waypoint x="425.0" y="427.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow18" id="BPMNEdge_flow18">
        <omgdi:waypoint x="1005.0" y="585.0"></omgdi:waypoint>
        <omgdi:waypoint x="1003.0" y="597.0"></omgdi:waypoint>
        <omgdi:waypoint x="935.0" y="597.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow33" id="BPMNEdge_flow33">
        <omgdi:waypoint x="1745.0" y="470.0"></omgdi:waypoint>
        <omgdi:waypoint x="1744.0" y="501.0"></omgdi:waypoint>
        <omgdi:waypoint x="1595.0" y="501.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow37" id="BPMNEdge_flow37">
        <omgdi:waypoint x="2931.0" y="335.0"></omgdi:waypoint>
        <omgdi:waypoint x="2960.0" y="335.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow53" id="BPMNEdge_flow53">
        <omgdi:waypoint x="2465.0" y="385.0"></omgdi:waypoint>
        <omgdi:waypoint x="2464.0" y="423.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow54" id="BPMNEdge_flow54">
        <omgdi:waypoint x="2275.0" y="300.0"></omgdi:waypoint>
        <omgdi:waypoint x="2370.0" y="300.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow55" id="BPMNEdge_flow55">
        <omgdi:waypoint x="2661.0" y="300.0"></omgdi:waypoint>
        <omgdi:waypoint x="2740.0" y="300.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>